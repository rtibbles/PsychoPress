{"version":3,"file":"public/js/app.js","sources":["app/app/app.coffee","app/initialize.coffee","app/models/APIBase.coffee","app/models/Base.coffee","app/models/Block.coffee","app/models/BlockDataHandler.coffee","app/models/BlockParameterSet.coffee","app/models/EventLog.coffee","app/models/Experiment.coffee","app/models/ExperimentDataHandler.coffee","app/models/ExperimentParameterSet.coffee","app/models/NestedAPIBase.coffee","app/models/Parameter.coffee","app/models/Trial.coffee","app/models/TrialDataLog.coffee","app/models/TrialObject.coffee","app/models/TrialObjects/AudioTrialObject.coffee","app/models/TrialObjects/GroupTrialObject.coffee","app/models/TrialObjects/HTML/TextInput/TextAreaInputHTMLTrialObject.coffee","app/models/TrialObjects/HTML/TextInputHTMLTrialObject.coffee","app/models/TrialObjects/HTMLTrialObject.coffee","app/models/TrialObjects/KeyboardTrialObject.coffee","app/models/TrialObjects/Visual/CircleVisualTrialObject.coffee","app/models/TrialObjects/Visual/EllipseVisualTrialObject.coffee","app/models/TrialObjects/Visual/ImageVisualTrialObject.coffee","app/models/TrialObjects/Visual/PolygonVisualTrialObject.coffee","app/models/TrialObjects/Visual/RectangleVisualTrialObject.coffee","app/models/TrialObjects/Visual/Text/MultiLineTextVisualTrialObject.coffee","app/models/TrialObjects/Visual/TextVisualTrialObject.coffee","app/models/TrialObjects/Visual/TriangleVisualTrialObject.coffee","app/models/TrialObjects/VisualTrialObject.coffee","app/templates/TrialObjects/HTML/TextInput/textareainput.hbs","app/templates/TrialObjects/HTML/textinput.hbs","app/templates/application.hbs","app/templates/experiment.hbs","app/templates/progressbar.hbs","app/templates/trial.hbs","app/utils/clock.coffee","app/utils/diff.coffee","app/utils/fingerprint.coffee","app/utils/hashObject.coffee","app/utils/keys.coffee","app/utils/nestedImport.coffee","app/utils/nestedModules.coffee","app/utils/nestedSelectiveImport.coffee","app/utils/random.coffee","app/utils/stringHash.coffee","app/utils/urlParse.coffee","app/utils/wrapCanvasText.coffee","app/views/BlockView.coffee","app/views/ExperimentView.coffee","app/views/HandlerView.coffee","app/views/ProgressBarView.coffee","app/views/TrialObjectView.coffee","app/views/TrialObjectViews/AudioTrialObjectView.coffee","app/views/TrialObjectViews/GroupTrialObjectView.coffee","app/views/TrialObjectViews/HTML/TextInput/TextAreaInputHTMLTrialObjectView.coffee","app/views/TrialObjectViews/HTML/TextInputHTMLTrialObjectView.coffee","app/views/TrialObjectViews/HTMLTrialObjectView.coffee","app/views/TrialObjectViews/KeyboardTrialObjectView.coffee","app/views/TrialObjectViews/Visual/CircleVisualTrialObjectView.coffee","app/views/TrialObjectViews/Visual/EllipseVisualTrialObjectView.coffee","app/views/TrialObjectViews/Visual/ImageVisualTrialObjectView.coffee","app/views/TrialObjectViews/Visual/PolygonVisualTrialObjectView.coffee","app/views/TrialObjectViews/Visual/RectangleVisualTrialObjectView.coffee","app/views/TrialObjectViews/Visual/Text/MultiLineTextVisualTrialObjectView.coffee","app/views/TrialObjectViews/Visual/TextVisualTrialObjectView.coffee","app/views/TrialObjectViews/Visual/TriangleVisualTrialObjectView.coffee","app/views/TrialObjectViews/VisualTrialObjectView.coffee","app/views/TrialView.coffee","app/views/View.coffee","envs/development/env.js"],"names":[],"mappings":"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/B,CA/CA,EAgDI,GADE,CAAN;CACI;CAhDJ;A;;CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzCA;;A;ACEA;;;;GAAqB,CAAsB,EAArC,KAAN;;AAEA,CAFA,EAGO,CADP,CACO,EAAH,IADO;;AAUX,CAZA,EAYA,CAEQ,CADA,MADG;CAMA,GAAW;CAAd;;AAIR,CAtBA,EAsBe,GAAM,IAtBrB,EAsBA;;AACA,CAvBA,EAuBe,GAAM,KAvBrB,CAuBA;;AAEA,CAzBA,EAyBoB,GAAd,GAAc,CAApB;CACI;EADiB,qDACjB;GAAQ,CAAR;CACA,GAAG,IAAH,CAAG,GAAqB;CACpB,EAAW,CAAX,KAAW;CAAa,CAAa,GAAvB,IAAS,IAAT;CAAd,IAAW;IADf;CAGI,EAAW,CAAX;GAJJ;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","sourcesContent":["'use strict'\n\n# The application bootstrapper.\nPsychoCoffee =\n    initialize: ->\n\n\nmodule.exports = PsychoCoffee","'use strict'\nPsychoCoffee = window.PsychoCoffee = require './app/app'\nnestedImport = require './utils/nestedImport'\nnestedSelectiveImport = require '../utils/nestedSelectiveImport'\ncreatejs.FlashPlugin.swfPath = \"/widgets/SoundJS/\"\ncreatejs.Sound.registerPlugins [\n    createjs.WebAudioPlugin\n    createjs.HTMLAudioPlugin\n    createjs.FlashPlugin\n    ]\n\n# Load all modules in order automagically.\nfolderOrder = [\n    'utils', 'routes', 'models',\n    'views', 'templates'\n  ]\n\nfolderOrder.forEach (folder) -> nestedImport folder, PsychoCoffee\n\n# A convenience method for specifying the 'type' of\n# a trial object by a short hand type.\nPsychoCoffee.trialObjectTypeKeys =\n    _.invert nestedSelectiveImport('models/TrialObjects', \"Type\")\n\n$ ->\n    PsychoCoffee.initialize()\n    Backbone.history.start()","'use strict'\n\nclass Model extends Backbone.AssociatedModel\n\n\nclass Collection extends Backbone.Collection\n\n    urlBase: \"/api/\"\n    model: Model\n\n    initialize: (options={}) ->\n        @params = {}\n        for apiFilter in @apiFilters\n            filterparam = \"filter[where][#{apiFilter}]\"\n            if options[apiFilter]?\n                @params[filterparam] = options[apiFilter]\n\n    filterFetch: (options={}) ->\n        options.data = @params\n        @fetch options\n\n    url: =>\n        @urlBase + @apiCollection\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nrandom = require 'utils/random'\n\nclass Model extends Backbone.AssociatedModel\n    name: ->\n        @get(\"name\") or @id\n\n    save: (key, val, options) ->\n        @set \"id\", random.seededguid()\n\nclass Collection extends Backbone.Collection\n    url: \"none\"\n    local: true\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nBase = require './Base'\nTrial = require './Trial'\nTrialObject = require './TrialObject'\nBlockParameterSet = require './BlockParameterSet'\n\nclass Model extends Base.Model\n    defaults:\n        trials: []\n        title: \"\"\n        width: 640\n        height: 480\n        timeout: 1000\n        parameterSet: {}\n        trialObjects: []\n        numberOfTrials: null\n        triggers: []\n\n    trialProperties: [\n        \"title\"\n        \"width\"\n        \"height\"\n        \"timeout\"\n        \"triggers\"\n    ]\n\n    relations: [\n        type: Backbone.Many\n        key: 'trials'\n        collectionType: Trial.Collection\n    ,\n        type: Backbone.Many\n        key: 'trialObjects'\n        collectionType: TrialObject.Collection\n    ,\n        type: Backbone.One\n        key: 'parameterSet'\n        relatedModel: BlockParameterSet.Model\n    ]\n\n    returnParameters: (user_id, experimentParameters) ->\n        @get(\"parameterSet\").returnTrialParameters(\n            user_id, @get(\"numberOfTrials\"), experimentParameters)\n\n    returnTrialProperties: (parameters={}) ->\n        attributes = {}\n        for key in @trialProperties\n            attributes[key] = @get(key)\n        for attribute, parameterName of @get \"parameterizedAttributes\"\n            if parameterName of parameters\n                # This allows parameters to be undefined without breaking\n                # the experiment - can be used to dynamically parameterize\n                # trials, e.g. by having them parameterized in some\n                # conditions but not others\n                attributes[attribute] = parameters[parameterName]\n        return attributes\n\n    createTrialObject: (options) ->\n        @get(\"trialObjects\").create(options)\n\nclass Collection extends Base.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nNestedAPIBase = require('./NestedAPIBase')\nTrialDataLog = require('./TrialDataLog')\nEventLog = require('./EventLog')\n\nclass Model extends NestedAPIBase.Model\n\n    defaults:\n        trialdatalogs: []\n        blockeventlogs: []\n\n    relations: [\n        type: Backbone.Many\n        key: 'trialdatalogs'\n        collectionType: TrialDataLog.Collection\n    ,\n        type: Backbone.Many\n        key: 'blockeventlogs'\n        collectionType: EventLog.Collection\n    ]\n\n    logEvent: (event_type, clock, options={}) =>\n        @addEvent(\n            _.extend options,\n                experiment_time: clock.getTime()\n                event_type: event_type\n                )\n\n    addEvent: (event) ->\n        @get(\"blockeventlogs\").create event\n\nclass Collection extends NestedAPIBase.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection","'use strict'\n\nBase = require('./Base')\nRandom = require 'utils/random'\nParameter = require './Parameter'\n\nclass Model extends Base.Model\n\n    defaults:\n        randomized: false\n        trialParameters: []\n        blockParameters: []\n\n    relations: [\n        type: Backbone.Many\n        key: 'trialParameters'\n        collectionType: Parameter.Collection\n    ,\n        type: Backbone.Many\n        key: 'blockParameters'\n        collectionType: Parameter.Collection\n    ]\n\n    returnTrialParameters: (user_id=\"\",\\\n                            trials_wanted=null,\\\n                            experimentParameterSet={}) ->\n        parameterObjectList = []\n        parameterNameList = []\n        blockParameterSet = {}\n        \n        # Collect block parameters to inject into trialParameters at generation\n        for model in @get(\"blockParameters\").models\n            # Block Parameters are intended to be constant across a block\n            # Block Parameters are always randomized.\n            blockParameterSet[model.get(\"parameterName\")] =\n                Random.seeded_shuffle(\n                    model.returnParameterList(user_id\n                        null\n                        experimentParameterSet)\n                    user_id + \"blockParameterSet\" + @id)[0]\n\n        # Collect trial parameters\n        parameterSet = {}\n        for model in @get(\"trialParameters\").models\n            parameterList = model.returnParameterList(\n                user_id\n                trials_wanted\n                blockParameterSet)\n            parameterSet[model.get(\"parameterName\")] = parameterList\n            min_length = Math.min(min_length, parameterList.length) or\n                parameterList.length\n\n        # Do some checking to make sure that the resultant trial lists are of\n        # equal length. If not, play it safe and reduce them all to the\n        # shortest one to allow the trials to go ahead. Warn of the issue.\n        for key, value of parameterSet\n            if value.length < trials_wanted\n                console.warn    \"\"\"\n                                Parameter #{key} could not produce sufficient\n                                trials for desired trials_wanted value.\n                                \"\"\"\n            parameterSet[key] = value[0...min_length]\n            parameterNameList.push key\n\n\n        # A parameterSet of at least length 1 needs to be returned in order for\n        # for any trials to be run.\n\n        if not min_length? or min_length==0 then min_length = 1\n\n        # Now that we have a set length for trials, generate lists of experiment\n        # parameters to allow them to be passed in with the trial parameters.\n        for key, value of experimentParameterSet\n            parameterList = []\n            for i in [0...min_length]\n                parameterList.push value\n            parameterSet[key] = parameterList\n            parameterNameList.push key\n\n        # Now that we have a set length for trials, generate lists of block\n        # parameters to allow them to be passed in with the trial parameters.\n        for key, value of blockParameterSet\n            parameterList = []\n            for i in [0...min_length]\n                parameterList.push value\n            parameterSet[key] = parameterList\n            parameterNameList.push key\n\n        for i in [0...min_length]\n            parameters =\n                _.object parameterNameList,\n                    (parameterSet[parameter][i] \\\n                        for parameter in parameterNameList)\n            parameterObjectList.push parameters\n        if @get \"randomized\"\n            parameterObjectList = Random.seeded_shuffle parameterObjectList,\n                user_id + \"parameterObjectList\" + @id\n        return [blockParameterSet, min_length, parameterObjectList]\n\nclass Collection extends Base.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nNestedAPIBase = require('./NestedAPIBase')\n\nclass Model extends NestedAPIBase.Model\n\n\nclass Collection extends NestedAPIBase.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection","'use strict'\n\nBase = require('./Base')\nBlock = require('./Block')\nfingerprint = require 'utils/fingerprint'\nrandom = require 'utils/random'\nExperimentParameterSet = require './ExperimentParameterSet'\n\nclass Model extends Base.Model\n\n    initialize: ->\n        super\n        random.seedGUID fingerprint()\n\n    defaults:\n        blocks: []\n        title: \"Experiment\"\n        # This attribute determines the time intervals between\n        # saves to the API for experimental data.\n        # Larger save intervals will give better performance,\n        # But increase risk of data loss.\n        saveInterval: 10000\n        parameterSet: {}\n\n    relations: [\n        type: Backbone.Many\n        key: 'blocks'\n        collectionType: Block.Collection\n    ,\n        type: Backbone.One\n        key: 'parameterSet'\n        relatedModel: ExperimentParameterSet.Model\n    ]\n\n\n    createBlock: (options) ->\n        @.get(\"blocks\").create(options)\n\n    returnParameters: (user_id) ->\n        @get(\"parameterSet\").returnExperimentParameters user_id\n\nclass Collection extends Base.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nAPIBase = require './APIBase'\nBlockDataHandler = require './BlockDataHandler'\nDiff = require 'utils/diff'\nEventLog = require('./EventLog')\n\nclass Model extends APIBase.Model\n\n    initialize: ->\n        @lastSync = 0\n        @serverState = @toJSON()\n\n    defaults:\n        blockdatahandlers: []\n        experimenteventlogs: []\n\n    relations: [\n        type: Backbone.Many\n        key: 'blockdatahandlers'\n        collectionType: BlockDataHandler.Collection\n    ,\n        type: Backbone.Many\n        key: 'experimenteventlogs'\n        collectionType: EventLog.Collection\n    ]\n\n    logEvent: (event_type, clock, options={}) =>\n        @addEvent(\n            _.extend options,\n                experiment_time: clock.getTime()\n                event_type: event_type\n                )\n\n    addEvent: (event) ->\n        @get(\"experimenteventlogs\").create event\n\n    sync: (method, model, options={}) =>\n        if options.now\n            @syncNow(method,model,options)\n        else\n            if model?\n                syncNow = => @syncNow(method,model,options)\n                delayTime = @lastSync + @get(\"saveInterval\") - performance.now()\n                if delayTime <= 0\n                    @syncNow()\n                else\n                    if not @syncCache\n                        @syncCache = setTimeout syncNow, delayTime\n\n    syncNow: (method, model, options={}) =>\n        if model?\n            if options.success\n                callback = options.success\n            if not @isNew()\n                options.attrs = Diff.Diff(@serverState, model.toJSON())\n                options.method = 'patch'\n                options.success = (saved) =>\n                    if saved.patched\n                        @set model.attributes\n                        @serverState = model.toJSON()\n                        callback(saved)\n            else\n                options.success = (data) =>\n                    @set(data)\n                    @serverState = @toJSON()\n                    callback(data)\n            @lastSync = performance.now()\n            clearTimeout(@syncCache)\n            delete @syncCache\n            try\n                Backbone.sync(method, model, options)\n            catch e\n                console.debug e, method, model, options\n        \n\nclass Collection extends APIBase.Collection\n\n    model: Model\n    storeName: \"experimentData\"\n    apiCollection: \"experimentdatahandlers\"\n    apiFilters: [\"experiment_identifier\", \"participant_id\"]\n\n\n    getOrCreateParticipantModel: (participant_id, experiment_model) ->\n        model = @findWhere\n            participant_id: participant_id\n            experiment_identifier: experiment_model.get(\"identifier\")\n        model or @create\n            participant_id: participant_id\n            saveInterval: experiment_model.get(\"saveInterval\")\n            experiment_identifier: experiment_model.get(\"identifier\")\n\nmodule.exports =\n    Model: Model\n    Collection: Collection","'use strict'\n\nBase = require('./Base')\nRandom = require 'utils/random'\nParameter = require './Parameter'\n\nclass Model extends Base.Model\n\n    defaults:\n        randomized: false\n        experimentParameters: []\n\n    relations: [\n        type: Backbone.Many\n        key: 'experimentParameters'\n        collectionType: Parameter.Collection\n    ]\n\n    returnExperimentParameters: (user_id=\"\") ->\n        experimentParameterSet = {}\n        \n        # Collect experiment parameters to inject\n        # into blockParameters at generation\n        for model in @get(\"experimentParameters\").models\n            # Experiment Parameters are intended to be\n            # constant across an experiment.\n            # Experiment Parameters are always randomized.\n            experimentParameterSet[model.get(\"parameterName\")] =\n                Random.seeded_shuffle(\n                    model.returnParameterList(user_id\n                        null\n                        experimentParameterSet)\n                    user_id + \"experimentParameterSet\" + @id)[0]\n\n        return experimentParameterSet\n\nclass Collection extends Base.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nhashObject = require 'utils/hashObject'\n\nclass Model extends Backbone.AssociatedModel\n\n    save: =>\n        @set \"id\", hashObject @collection.parents[0].toJSON()\n        for model in @collection.parents\n            model.save()\n\nclass Collection extends Backbone.Collection\n\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nBase = require('./Base')\nRandom = require 'utils/random'\n\nclass Model extends Base.Model\n\n    ###\n    Parameter attributes can be of three basic returnTypes:\n    \n    fixedList       equivalent to a CSV or spreadsheet of parameters.\n                    Each attribute defined in this way has an equal\n                    length array of values which must be greater than\n                    or equal to the requested number of trials.\n\n    generatedList   each parameter can take on one of a set of discrete\n                    values, ParameterSet will either return a repeating\n                    set (either randomized or not), or can be combined\n                    with other parameters to produce all possible\n                    combinations.\n\n    generatorFn     Parameters are defined by mathematical functions. Requires\n                    input value for functions (either single value or array of\n                    same length as number of parameters), function to change\n                    input values by (either single function or array of\n                    functions), and number of trials wanted.\n\n    Further, Parameter Attributes can have additional methods based on their\n    dataType, for example, an Array dataType is allowed to be shuffled.\n    ###\n\n    defaults:\n        dataType: \"\"\n        returnType: \"fixedList\"\n        randomized: false\n        parameterName: \"Untitled Parameter\"\n        parameters: []\n        parameterizedAttributes: {}\n\n    returnParameterList: (user_id=\"\",\\\n                            trials_wanted=null,\\\n                            injectedParameters={}) ->\n        for attribute, name of @get \"parameterizedAttributes\"\n            if name of injectedParameters\n                @set attribute, injectedParameters[name]\n        switch @get \"returnType\"\n            when \"fixedList\"\n                data = @fixedList(user_id, trials_wanted)\n            when \"generatedList\"\n                data = @generatedList(user_id, trials_wanted)\n            when \"generatorFn\"\n                data = @generatorFn(user_id, trials_wanted)\n            else console.log \"ParameterSet returnType undefined!\"\n        if @get(\"dataType\") == \"array\"\n            if @get \"shuffled\"\n                data = @shuffleListArrays(user_id, data)\n        return data\n\n    fixedList: (user_id, trials_wanted) ->\n        parameterList = @get \"parameters\"\n        if parameterList.length < trials_wanted\n            console.warn \"Trials wanted exceeds fixedList length\"\n        if @get \"randomized\"\n            parameterList = Random.seeded_shuffle parameterList,\n                user_id + \"fixedList\" + @id\n        if trials_wanted?\n            parameterList = parameterList[0...trials_wanted]\n        return parameterList\n\n    generatedList: (user_id, trials_wanted) ->\n        parameterList = []\n        wholelists = Math.floor trials_wanted/@get(\"parameters\").length\n        extra_count = trials_wanted % @get(\"parameters\").length\n        for i in [0...wholelists]\n            parameterList.push.apply parameterList, @get(\"parameters\")\n        if @get \"randomized\"\n            extras = Random.seeded_shuffle @get(\"parameters\"),\n                user_id + \"generatedListExtras\" + @id\n            extras = extras[0...extra_count]\n            parameterList.push.apply parameterList, extras\n            parameterList = Random.seeded_shuffle parameterList,\n                user_id + \"generatedList\" + @id\n        else\n            parameterList.push.apply parameterList,\n                @get(\"parameters\")[0...extra_count]\n        return parameterList\n\n    generatorFn: (user_id, trials_wanted) ->\n        return {}\n\n    shuffleListArrays: (user_id, list) ->\n        for item, index in list\n            list[index] = Random.seeded_shuffle item,\n                user_id + \"shuffleListArrays\" + @id + index\n        return list\n\nclass Collection extends Base.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection\n","'use strict'\n\nBase = require('./Base')\nTrialObject = require(\"./TrialObject\")\n\nclass Model extends Base.Model\n    defaults:\n        width: 640\n        height: 480\n        trialObjects: []\n\n    relations: [\n        type: Backbone.Many\n        key: 'trialObjects'\n        collectionType: TrialObject.Collection\n    ]\n\nclass Collection extends Base.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection","'use strict'\n\nNestedAPIBase = require('./NestedAPIBase')\nEventLog = require('./EventLog')\n\nclass Model extends NestedAPIBase.Model\n\n    defaults:\n        trialeventlogs: []\n\n    relations: [\n        type: Backbone.Many\n        key: 'trialeventlogs'\n        collectionType: EventLog.Collection\n    ]\n\n    logEvent: (event_type, clock, options={}) =>\n        @addEvent(\n            _.extend options,\n                experiment_time: clock.getTime()\n                trial_time: clock.timerElapsed()\n                event_type: event_type\n                )\n\n    addEvent: (event) ->\n        @get(\"trialeventlogs\").create event\n\nclass Collection extends NestedAPIBase.Collection\n    model: Model\n\nmodule.exports =\n    Model: Model\n    Collection: Collection","'use strict'\n\nnestedModules = require '../utils/nestedModules'\n\n\nBase = require('./Base')\n\nclass Model extends Base.Model\n\n    defaults: ->\n        defaults = {}\n        for option in @objectOptions()\n            if option.default?\n                defaults[option.name] = option.default\n        for parameter in @requiredParameters()\n            defaults[parameter.name] = parameter.default\n        return defaults\n\n    requiredParameters: ->\n        # Lists all parameters needed to initialize object\n        # Assumes listed in order that they appear in args\n        []\n\n    objectOptions: ->\n        # Lists additional parameters for object\n        [\n            name: \"delay\"\n            default: 0\n            type: \"number\"\n        ,\n            name: \"duration\"\n            default: 0\n            type: \"number\"\n        ,\n            name: \"startWithTrial\"\n            default: true\n            type: \"boolean\"\n        ,\n            name: \"parameterizedAttributes\"\n            default: {}\n            type: \"object\"\n        ,\n            ###\n            Triggers are objects of the form -\n            { eventName: \"change\", objectName: \"firstImage\",\n            callback: \"firstImageMethod\", arguments: {size: 17}}\n            The trigger will be registered to listen to this event\n            on the other trial object, and will invoke this callback\n            with these arguments. An optional argument of \"once\" can be\n            set to true to use listenToOnce instead of listenTo.\n            ###\n            name: \"triggers\"\n            default: []\n            type: \"array\"\n            embedded_type: Object\n        ]\n\n    parameterizedTrial: (parameters) ->\n        attributes = _.clone @attributes\n        for attribute, parameterName of @get \"parameterizedAttributes\"\n            if parameterName of parameters\n                # This allows parameters to be undefined without breaking\n                # the experiment - can be used to dynamically parameterize\n                # trials, e.g. by having them parameterized in some\n                # conditions but not others\n                attributes[attribute] = parameters[parameterName]\n        return attributes\n\n    returnRequired: ->\n        required = []\n        for parameter in @requiredParameters()\n            required.push @get(parameter.name)\n        return required\n\n    returnOptions: ->\n        options = {}\n        for option in @objectOptions()\n            if @get(option.name)?\n                options[option.name] = @get option.name\n        return options\n\n    allParameters: ->\n        parameters = {}\n        for parameter in @objectOptions().concat @requiredParameters()\n            if @get(parameter.name)?\n                parameters[parameter.alias or\n                    parameter.name] = @get parameter.name\n        return parameters\n\n\nclass Collection extends Base.Collection\n    model: (attrs, options) ->\n        try\n            modelType = attrs[\"subModelTypeAttribute\"] or\n                PsychoCoffee.trialObjectTypeKeys[attrs[\"type\"]]\n\n            model = PsychoCoffee[modelType][\"Model\"]\n        catch error\n            model = Model\n        new model(attrs, options)\n\n\nmodule.exports =\n    Model: Model\n    Collection: Collection","'use strict'\n\nTrialObject = require(\"../TrialObject\")\n\nclass Model extends TrialObject.Model\n\n    name: ->\n        @get(\"name\") or @get(\"file\")\n\nmodule.exports =\n    Model: Model\n    Type: \"audio\"","'use strict'\n\n###\nThe group trial object acts as a special wrapper around\nother trial objects to group behaviour or properties in\na privileged way.\n\nOne example might be for the randomization of buttons\nacross or participants or across trials. Two buttons would\nbe part of a group, and have their labels determined at\nthe button level - allowing their ordering to be\nparamiterized.\n\nAs such, parameterizedAttributes on group object is\nalways ignored, and any arrays passed in as parameters\nare assumed to be parameters for the children.\n###\n\nTrialObject = require(\"../TrialObject\")\n\nclass Model extends TrialObject.Model\n\n\n    defaults: ->\n        _.extend\n            trialObjects: []\n            super\n    \n    relations: [\n        type: Backbone.Many\n        key: 'trialObjects'\n        collectionType: TrialObject.Collection\n    ]\n\n    parameterizedTrial: (parameters) ->\n        attributes = super()\n        trialObjects = []\n        for model, index in attributes.trialObjects.models\n            localParameters = {}\n            for key, value of parameters\n                if value instanceof Array\n                    localParameters[key] = value[index]\n                else\n                    localParameters[key] = value\n            trialObjects.push model.parameterizedTrial(localParameters)\n        attributes.trialObjects = trialObjects\n        return attributes\n\n    createTrialObject: (options) ->\n        @get(\"trialObjects\").create(options)\n\nmodule.exports =\n    Model: Model\n    Type: \"group\"","'use strict'\n\nTextInputHTMLTrialObject = require(\"../TextInputHTMLTrialObject\")\n\nclass Model extends TextInputHTMLTrialObject.Model\n\nmodule.exports =\n    Model: Model\n    Type: \"text-area-input\"","'use strict'\n\nHTMLTrialObject = require(\"../HTMLTrialObject\")\n\nclass Model extends HTMLTrialObject.Model\n\n    requiredParameters: ->\n        [\n            name: \"prefill\"\n            default: \"\"\n            type: \"string\"\n        ,\n            name: \"prompt\"\n            default: \"\"\n            type: \"string\"\n        ]\n\n    objectOptions: ->\n        super().concat(\n            [\n                    name: \"fontSize\"\n                    default: 24\n                    type: \"number\"\n                ,\n                    name: \"fontFamily\"\n                    default: \"arial\"\n                    type: \"string\"\n                ,\n                    name: \"fontStyle\"\n                    default: \"normal\"\n                    type: \"string\"\n                ,\n                    name: \"backgroundColor\"\n                    default: \"\"\n                    type: \"hex-colour\"\n            ])\n\n    name: ->\n        @get(\"name\") or @get(\"text\")\n\nmodule.exports =\n    Model: Model\n    Type: \"text-input\"","'use strict'\n\nTrialObject = require(\"../TrialObject\")\n\nclass Model extends TrialObject.Model\n\n    objectOptions: ->\n        super().concat([\n            name: \"height\"\n            type: \"number\"\n        ,\n            name: \"x\"\n            default: 0\n            type: \"number\"\n        ,\n            name: \"originX\"\n            default: \"center\"\n            type: \"options\"\n            options: [\"center\", \"left\", \"right\"]\n        ,\n            name: \"originY\"\n            default: \"center\"\n            type: \"options\"\n            options: [\"center\", \"top\", \"bottom\"]\n        ,\n            name: \"y\"\n            default: 0\n            type: \"number\"\n        ,\n            name: \"width\"\n            type: \"number\"\n        ])\n\nmodule.exports =\n    Model: Model","'use strict'\n\nTrialObject = require \"../TrialObject\"\nKeys = require \"utils/keys\"\n\nclass Model extends TrialObject.Model\n\n    defaults: ->\n        _.extend\n            keys: _.keys(Keys.Keys)\n            super\n\nmodule.exports =\n    Model: Model\n    Type: \"keyboard\"","'use strict'\n\nVisualTrialObject = require(\"../VisualTrialObject\")\n\nclass Model extends VisualTrialObject.Model\n\n    objectOptions: ->\n        super().concat(\n            [\n                    name: \"radius\"\n                    default: 24\n                    type: \"number\"\n            ])\n\nmodule.exports =\n    Model: Model\n    Type: \"circle\"","'use strict'\n\nVisualTrialObject = require(\"../VisualTrialObject\")\n\nclass Model extends VisualTrialObject.Model\n\n    objectOptions: ->\n        super().concat(\n            [\n                    name: \"ry\"\n                    default: 24\n                    type: \"number\"\n                ,\n                    name: \"ry\"\n                    default: 24\n                    type: \"number\"\n            ])\n\nmodule.exports =\n    Model: Model\n    Type: \"ellipse\"","'use strict'\n\nVisualTrialObject = require(\"../VisualTrialObject\")\n\nclass Model extends VisualTrialObject.Model\n\n    requiredParameters: ->\n        [\n            name: \"file\"\n            default: \"\"\n            type: \"file\"\n            extensions: [\"png\", \"jpg\", \"gif\"]\n        ]\n\n    name: ->\n        @get(\"name\") or @get(\"file\")\n\nmodule.exports =\n    Model: Model\n    Type: \"image\"","'use strict'\n\nVisualTrialObject = require(\"../VisualTrialObject\")\n\nclass Model extends VisualTrialObject.Model\n\n    requiredParameters: ->\n        [\n            name: \"points\"\n            default: []\n            type: \"array\"\n            embedded_type: fabric.Point\n        ]\n\nmodule.exports =\n    Model: Model\n    Type: \"polygon\"","'use strict'\n\nVisualTrialObject = require(\"../VisualTrialObject\")\n\nclass Model extends VisualTrialObject.Model\n\n    objectOptions: ->\n        super().concat(\n            [\n                    name: \"rx\"\n                    default: 1\n                    type: \"number\"\n                ,\n                    name: \"ry\"\n                    default: 1\n                    type: \"number\"\n            ])\n\nmodule.exports =\n    Model: Model\n    Type: \"rectangle\"","'use strict'\n\nTextVisualTrialObject = require '../TextVisualTrialObject'\n\nclass Model extends TextVisualTrialObject.Model\n\n    objectOptions: ->\n        super().concat(\n            [\n                    name: \"justify\"\n                    default: \"left\"\n                    type: \"options\"\n                    options: [\"left\", \"right\", \"center\"]\n            ])\n\n    name: ->\n        @get(\"name\") or @get(\"text\")\n\nmodule.exports =\n    Model: Model\n    Type: \"textbox\"","'use strict'\n\nVisualTrialObject = require(\"../VisualTrialObject\")\n\nclass Model extends VisualTrialObject.Model\n\n\n    requiredParameters: ->\n        [\n            name: \"text\"\n            default: \"\"\n            type: \"string\"\n        ]\n\n    objectOptions: ->\n        super().concat(\n            [\n                    name: \"fontSize\"\n                    default: 24\n                    type: \"number\"\n                ,\n                    name: \"fontFamily\"\n                    default: \"arial\"\n                    type: \"string\"\n                ,\n                    name: \"fontStyle\"\n                    default: \"normal\"\n                    type: \"string\"\n                ,\n                    name: \"backgroundColor\"\n                    default: \"\"\n                    type: \"hex-colour\"\n            ])\n\n    name: ->\n        @get(\"name\") or @get(\"text\")\n\nmodule.exports =\n    Model: Model\n    Type: \"text\"","'use strict'\n\nVisualTrialObject = require(\"../VisualTrialObject\")\n\nclass Model extends VisualTrialObject.Model\n\nmodule.exports =\n    Model: Model\n    Type: \"triangle\"","'use strict'\n\nTrialObject = require(\"../TrialObject\")\n\nclass Model extends TrialObject.Model\n\n    objectOptions: ->\n        super().concat([\n            name: \"angle\"\n            default: 0\n            type: \"number\"\n        ,\n            name: \"fill\"\n            default: \"#000000\"\n            type: \"hex-colour\"\n        ,\n            name: \"height\"\n            type: \"number\"\n        ,\n            name: \"x\"\n            default: 0\n            type: \"number\"\n            alias: \"left\"\n        ,\n            name: \"opacity\"\n            default: 1\n            type: \"number\"\n        ,\n            name: \"originX\"\n            default: \"center\"\n            type: \"options\"\n            options: [\"center\", \"left\", \"right\"]\n        ,\n            name: \"originY\"\n            default: \"center\"\n            type: \"options\"\n            options: [\"center\", \"top\", \"bottom\"]\n        ,\n            name: \"y\"\n            default: 0\n            type: \"number\"\n            alias: \"top\"\n        ,\n            name: \"width\"\n            type: \"number\"\n        ])\n\nmodule.exports =\n    Model: Model","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<span class=\\\"text-input-prompt\\\">\";\n  if (helper = helpers.prompt) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.prompt); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span><textarea type=\\\"text\\\" class=\\\"text-input\\\" placeholder=\\\"\";\n  if (helper = helpers.placeholder) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.placeholder); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></textarea>\";\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<span class=\\\"text-input-prompt\\\">\";\n  if (helper = helpers.prompt) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.prompt); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span><input type=\\\"text\\\" class=\\\"text-input\\\" placeholder=\\\"\";\n  if (helper = helpers.placeholder) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.placeholder); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></input>\";\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  if (helper = helpers.outlet) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.outlet); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n\";\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div id=\\\"messages\\\"></div>\\n<div id=\\\"trials\\\">\\n</div>\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div id=\\\"progressBarContainer\\\"><span>Loading...</span><div id=\\\"progressBar\\\"><div id=\\\"indicator\\\"></div></div></div>\";\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"trial-draw\\\" style=\\\"height: \";\n  if (helper = helpers.height) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.height); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"px; width: \";\n  if (helper = helpers.width) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.width); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"px\\\"><canvas id=\\\"trial-canvas\\\" height=\\\"\";\n  if (helper = helpers.height) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.height); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" width=\\\"\";\n  if (helper = helpers.width) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.width); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></canvas><div id=\\\"trial-elements\\\" style=\\\"height: \";\n  if (helper = helpers.height) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.height); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"px; width: \";\n  if (helper = helpers.width) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.width); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"px\\\"></div></div>\\n<div id=\\\"trial-hidden\\\"></div>\\n\";\n  return buffer;\n  });\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","\n# Initialize performance.now to always return a time, regardless of browser.\nwindow.performance = window.performance or {}\n\nperformance.type =\n    if performance.now or\n        performance.mozNow or\n        performance.msNow or\n        performance.oNow or\n        performance.webkitNow\n        then \"html5\"\n    else\n        \"date\"\n\nperformance.now =\n        performance.now    or\n        performance.mozNow    or\n        performance.msNow     or\n        performance.oNow      or\n        performance.webkitNow or\n        -> return new Date().getTime()\n\n# Enable the passage of the 'this' object through the JavaScript timers\n \n__nativeST__ = window.setTimeout\n__nativeSI__ = window.setInterval\n\nwindow.setTimeout = (vCallback, nDelay, aArgs...) ->\n    oThis = this\n    if vCallback instanceof Function\n        callback = -> vCallback.apply(oThis, aArgs)\n    else\n        callback = vCallback\n    __nativeST__(callback, nDelay)\n \nwindow.setInterval = (vCallback, nDelay, aArgs...) ->\n    oThis = this\n    if vCallback instanceof Function\n        callback = -> vCallback.apply(oThis, aArgs)\n    else\n        callback = vCallback\n    __nativeSI__(callback, nDelay)\n\n# http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n# http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n \n# requestAnimationFrame polyfill by Erik Mller\n# fixes from Paul Irish and Tino Zijdel\n \nlastTime = 0\nvendors = ['ms', 'moz', 'webkit', 'o']\nfor vendor in vendors\n    if window.requestAnimationFrame\n        window.AnimationFrameType = \"RequestAnimationFrame\"\n        break\n    window.requestAnimationFrame = window[vendor + 'RequestAnimationFrame']\n    window.cancelAnimationFrame =\n        window[vendor + 'CancelAnimationFrame'] or\n        window[vendors + 'CancelRequestAnimationFrame']\n\n\nif not window.requestAnimationFrame\n    window.AnimationFrameType = \"SetTimeout\"\n    window.requestAnimationFrame = (callback, element) ->\n        currTime = performance.now()\n        timeToCall = Math.max(0, 16 - (currTime - lastTime))\n        id = window.setTimeout(\n            -> callback(currTime + timeToCall),\n            timeToCall\n            )\n        lastTime = currTime + timeToCall\n        return id\n\nif not window.cancelAnimationFrame\n    window.cancelAnimationFrame = (id) ->\n        clearTimeout(id)\n\nclass Clock\n    constructor: (framerate=60) ->\n        _.extend @, Backbone.Events\n        # Set time that clock was initialized\n        @reset()\n        @tick = 1000/framerate\n        @frame = 0\n        @changeEvents = []\n        @timingType = performance.type\n        @animationFrameType = window.AnimationFrameType\n        console.log \"Using clock type:\", @timingType\n\n    reset: =>\n        @start = performance.now()\n\n    getTime: =>\n        performance.now() - @start\n\n    getElapsedTime: (time) =>\n        @getTime() - time\n\n    getAbsoluteTime: ->\n        new Date().getTime()\n\n    setStartTime: (time) =>\n        @start = Number(time)\n\n    delayedTrigger: (delay, object, callback) =>\n        frames = delay/@tick\n        nearestFrame = Math.floor frames\n        # Can't guarantee precision below 16ms, so don't even try.\n        object.listenToOnce(@, @frame + nearestFrame, callback)\n\n    startTimer: =>\n        @timerStart = @getTime()\n        @ticktock()\n\n    pauseTimer: =>\n        @pauseTimestamp = @getTime()\n        @stopTimer()\n        if window.confirm(\"Do you really want to stop the experiment?\")\n            window.close()\n        else\n            @resumeTimer(@pauseTimestamp)\n\n    resumeTimer: (timestamp) =>\n        @start += @getTime() - timestamp\n        @ticktock()\n\n    stopTimer: =>\n        clearTimeout @timer\n        @frame = 0\n        delete @timerStart\n\n    timerElapsed: =>\n        @getElapsedTime(@timerStart) or 0\n\n    ticktock: =>\n        # console.log @timerElapsed()\n        @timer = setTimeout(\n            @ticktock,\n            @tick - (@timerElapsed() - @frame*@tick)\n            )\n        @trigger(@frame)\n        # console.log \"Tick Tock!\", @timerElapsed() - @frame*@tick\n        @frame += 1\n        # if @frame > 100 then @stopTimer()\n        if @changeEvents.length then @canvas?.renderAll()\n        @changeEvents = []\n\n\nmodule.exports =\n    Clock: Clock","if typeof(window) == 'undefined'\n    _ = require \"underscore\"\nelse\n    _ = window._\n\nid_attr = \"id\"\n\ndiff = (master, update) ->\n    if _.isEmpty(master) then return update\n    ret = {}\n    for name,value of update\n        if name of master\n            if _.isObject(update[name])\n                if _.isArray(update[name])\n                    ret[name] = []\n                    for i in [0...update[name].length]\n                        if _.isObject(update[name][i])\n                            array_diff = diff(master[name][i],\n                                update[name][i])\n                            if not _.isEmpty(array_diff)\n                                ret[name].push(array_diff)\n                        else\n                            ret[name].push(update[name][i])\n                    if ret[name].length == 0 then delete ret[name]\n                else\n                    obj_diff = diff(master[name], update[name])\n                    if not _.isEmpty(obj_diff)\n                        ret[name] = obj_diff\n            else if not _.isEqual(master[name], update[name]) or\n                    name == id_attr\n                ret[name] = update[name]\n        else\n            ret[name] = update[name]\n    keys = Object.keys(ret)\n    if keys.length==1 and keys[0]==id_attr\n        return {}\n    else\n        return ret\n\n###\nThis will not work, and is not designed to work\nfor arrays that do not contain objects.\nArrays of objects allow for unique identification\nof elements in the array, and mean that the exact ordering\nis unimportant. Hard to do this with a diff otherwise.\n###\n\nmerge = (master, update) ->\n    if _.isEmpty(master) then return update\n    for name, value of update\n        if name of master\n            if _.isObject(update[name])\n                if _.isArray(update[name])\n                    for i in [0...update[name].length]\n                        update_node = update[name][i]\n                        if _.isObject(update_node)\n                            master_node = _.find(master[name], (item) ->\n                                item[id_attr]==update_node[id_attr])\n                            if _.isObject(master_node)\n                                master_node = merge(master_node, update_node)\n                            else\n                                master[name].push update_node\n                        else\n                            master[name].push update_node\n                else\n                    master[name] = merge(master[name], update[name])\n            else\n                master[name] = update[name]\n        else\n            master[name] = update[name]\n    return master\n\n\nmodule.exports =\n    Diff: diff\n    Merge: merge","###\n * Checks if a font is available to be used on a web page.\n *\n * @param {String} fontName The name of the font to check\n * @return {Boolean}\n * @license MIT\n * @copyright Sam Clarke 2013\n * @author Sam Clarke <sam@samclarke.com>\n###\nbody          = document.body\ncontainer     = document.createElement('div')\ncontainerCss  = [\n    'position:absolute',\n    'width:auto',\n    'font-size:128px',\n    'left:-99999px'\n]\n\n# Create a span element to contain the test text.\n# Use innerHTML instead of createElement as it's easier\n# to apply CSS to.\ncontainer.innerHTML = '<span style=\"' +\n    containerCss.join(' !important;') + '\">' +\n    Array(100).join('wi') +\n    '</span>'\ncontainer = container.firstChild\n\ncalculateWidth = (fontFamily) ->\n    container.style.fontFamily = fontFamily\n\n    body.appendChild(container)\n    width = container.clientWidth\n    body.removeChild(container)\n\n    return width\n\n# Pre calculate the widths of monospace, serif & sans-serif\n# to improve performance.\nmonoWidth  = calculateWidth('monospace')\nserifWidth = calculateWidth('serif')\nsansWidth  = calculateWidth('sans-serif')\n\nisFontAvailable = (fontName) ->\n    return monoWidth != calculateWidth(fontName + ',monospace') or\n        sansWidth != calculateWidth(fontName + ',sans-serif') or\n        serifWidth != calculateWidth(fontName + ',serif')\n\nfontList = [\n    \"Adobe Jenson\"\n    \"Adobe Text\"\n    \"Albertus\"\n    \"Aldus\"\n    \"Alexandria\"\n    \"Algerian\"\n    \"American Typewriter\"\n    \"Antiqua\"\n    \"Arno\"\n    \"Aster\"\n    \"Aurora\"\n    \"News 706\"\n    \"Baskerville\"\n    \"Bebas\"\n    \"Bebas Neue\"\n    \"Bell\"\n    \"Bembo\"\n    \"Bembo Schoolbook\"\n    \"Berkeley Old Style\"\n    \"Bernhard Modern\"\n    \"Bodoni\"\n    \"Bauer Bodoni\"\n    \"Book Antiqua\"\n    \"Bookman\"\n    \"Bordeaux Roman\"\n    \"Bulmer\"\n    \"Caledonia\"\n    \"Californian FB\"\n    \"Calisto MT\"\n    \"Cambria\"\n    \"Capitals\"\n    \"Cartier\"\n    \"Caslon\"\n    \"Wyld\"\n    \"Caslon Antique\"\n    \"Fifteenth Century\"\n    \"Catull\"\n    \"Centaur\"\n    \"Century Old Style\"\n    \"Century Schoolbook\"\n    \"New Century Schoolbook\"\n    \"Century Schoolbook Infant\"\n    \"Chaparral\"\n    \"Charis SIL\"\n    \"Charter\"\n    \"Cheltenham\"\n    \"Clearface\"\n    \"Cochin\"\n    \"Colonna\"\n    \"Computer Modern\"\n    \"Concrete Roman\"\n    \"Constantia\"\n    \"Cooper Black\"\n    \"Corona\"\n    \"News 705\"\n    \"DejaVu Serif\"\n    \"Didot\"\n    \"Droid Serif\"\n    \"Ecotype\"\n    \"Elephant\"\n    \"Emerson\"\n    \"Espy Serif\"\n    \"Excelsior\"\n    \"News 702\"\n    \"Fairfield\"\n    \"FF Scala\"\n    \"Footlight\"\n    \"FreeSerif\"\n    \"Friz Quadrata\"\n    \"Garamond\"\n    \"Gentium\"\n    \"Georgia\"\n    \"Gloucester\"\n    \"Goudy Old Style\"\n    \"Goudy\"\n    \"Goudy Pro Font\"\n    \"Goudy Schoolbook\"\n    \"Granjon\"\n    \"Heather\"\n    \"Hercules\"\n    \"High Tower Text\"\n    \"Hiroshige\"\n    \"Hoefler Text\"\n    \"Humana Serif\"\n    \"Imprint\"\n    \"Ionic No. 5\"\n    \"News 701\"\n    \"ITC Benguiat\"\n    \"Janson\"\n    \"Jenson\"\n    \"Joanna\"\n    \"Korinna\"\n    \"Kursivschrift\"\n    \"Legacy Serif\"\n    \"Lexicon\"\n    \"Liberation Serif\"\n    \"Linux Libertine\"\n    \"Literaturnaya\"\n    \"Lucida Bright\"\n    \"Melior\",\"Memphis\"\n    \"Miller\"\n    \"Minion\"\n    \"Modern\"\n    \"Mona Lisa\"\n    \"Mrs Eaves\"\n    \"MS Serif\"\n    \"New York\"\n    \"Nimbus Roman\"\n    \"NPS Rawlinson Roadway\"\n    \"OCR A Extended\"\n    \"Palatino\"\n    \"Perpetua\"\n    \"Plantin\"\n    \"Plantin Schoolbook\"\n    \"Playbill\"\n    \"Poor Richard\"\n    \"Renault\"\n    \"Requiem\"\n    \"Roman\"\n    \"Rotis Serif\"\n    \"Sabon\"\n    \"Seagull\"\n    \"Sistina\"\n    \"Souvenir\"\n    \"STIX\"\n    \"Stone Informal\"\n    \"Stone Serif\"\n    \"Sylfaen\"\n    \"Times New Roman\"\n    \"Times\"\n    \"Trajan\"\n    \"Trinit\"\n    \"Trump Mediaeval\"\n    \"Utopia\"\n    \"Vale Type\"\n    \"Vera Serif\"\n    \"Versailles\"\n    \"Wanted\"\n    \"Weiss\"\n    \"Wide Latin\"\n    \"Windsor\"\n    \"XITS\"\n    \"Apex\"\n    \"Archer\"\n    \"Athens\"\n    \"Cholla Slab\"\n    \"City\"\n    \"Clarendon\"\n    \"Courier\"\n    \"Egyptienne\"\n    \"Guardian Egyptian\"\n    \"Lexia\"\n    \"Museo Slab\"\n    \"Nilland\"\n    \"Rockwell\"\n    \"Skeleton Antique\"\n    \"Tower\"\n    \"Abadi\"\n    \"Agency FB\"\n    \"Akzidenz-Grotesk\"\n    \"Andal Sans\"\n    \"Aptifer\"\n    \"Arial\"\n    \"Arial Unicode MS\"\n    \"Avant Garde Gothic\"\n    \"Avenir\"\n    \"Bank Gothic\"\n    \"Barmeno\"\n    \"Bauhaus\"\n    \"Bell Centennial\"\n    \"Bell Gothic\"\n    \"Benguiat Gothic\"\n    \"Berlin Sans\"\n    \"Beteckna\"\n    \"Blue Highway\"\n    \"Brandon Grotesque\"\n    \"Cabin\"\n    \"Cafeteria\"\n    \"Calibri\"\n    \"Casey\"\n    \"Century Gothic\"\n    \"Charcoal\"\n    \"Chicago\"\n    \"Clearface Gothic\"\n    \"Clearview\"\n    \"Co Headline\"\n    \"Co Text\"\n    \"Compacta\"\n    \"Corbel\"\n    \"DejaVu Sans\"\n    \"Dotum\"\n    \"Droid Sans\"\n    \"Dyslexie\"\n    \"Ecofont\"\n    \"Eras\"\n    \"Espy Sans\"\n    \"Nu Sans\"\n    \"Eurocrat\"\n    \"Eurostile\",\"Square 721\"\n    \"FF Dax\"\n    \"FF Meta\"\n    \"FF Scala Sans\"\n    \"Flama\"\n    \"Formata\"\n    \"Franklin Gothic\"\n    \"FreeSans\"\n    \"Frutiger\"\n    \"Frutiger Next\"\n    \"Futura\"\n    \"Geneva\"\n    \"Gill Sans\"\n    \"Gill Sans Schoolbook\"\n    \"Gotham\"\n    \"Haettenschweiler\"\n    \"Handel Gothic\"\n    \"Denmark\"\n    \"Hei\"\n    \"Helvetica\"\n    \"Helvetica Neue\"\n    \"Swiss 721\"\n    \"Highway Gothic\"\n    \"Hiroshige Sans\"\n    \"Hobo\"\n    \"Impact\"\n    \"Industria\"\n    \"Interstate\"\n    \"Johnston/New Johnston\"\n    \"Kabel\"\n    \"Lato\"\n    \"ITC Legacy Sans\"\n    \"Lexia Readable\"\n    \"Liberation Sans\"\n    \"Lucida Sans\"\n    \"Meiryo\"\n    \"Microgramma\"\n    \"Motorway\"\n    \"MS Sans Serif\"\n    \"Museo Sans\"\n    \"Myriad\"\n    \"Neutraface\"\n    \"Neuzeit S\"\n    \"News Gothic\"\n    \"Nimbus Sans L\"\n    \"Nina\"\n    \"Open Sans\"\n    \"Optima\"\n    \"Parisine\"\n    \"Pricedown\"\n    \"Prima Sans\"\n    \"PT Sans\"\n    \"Rail Alphabet\"\n    \"Revue\"\n    \"Roboto\"\n    \"Rotis Sans\"\n    \"Segoe UI\"\n    \"Skia\"\n    \"Souvenir Gothic\"\n    \"ITC Stone Sans\"\n    \"Syntax\"\n    \"Tahoma\"\n    \"Template Gothic\"\n    \"Thesis Sans\"\n    \"Tiresias\"\n    \"Trade Gothic\"\n    \"Transport\"\n    \"Trebuchet MS\"\n    \"Trump Gothic\"\n    \"Twentieth Century\"\n    \"Ubuntu\"\n    \"Univers\"\n    \"Zurich\"\n    \"Vera Sans\"\n    \"Verdana\"\n    \"Virtue\"\n    \"Amsterdam Old Style\"\n    \"Divona\"\n    \"Nyala\"\n    \"Portobello\"\n    \"Rotis Semi Serif\"\n    \"Tema Cantante\"\n    \"Andale Mono\"\n    \"Anonymous and Anonymous Pro\"\n    \"Arial Monospaced\"\n    \"BatangChe\"\n    \"Bitstream Vera\"\n    \"Consolas\"\n    \"CourierHP\"\n    \"Courier New\"\n    \"CourierPS\"\n    \"Fontcraft Courier\"\n    \"DejaVu Sans Mono\"\n    \"Droid Sans Mono\"\n    \"Everson Mono\"\n    \"Fedra Mono\"\n    \"Fixed\"\n    \"Fixedsys\"\n    \"Fixedsys Excelsior\"\n    \"HyperFont\",\"Inconsolata\"\n    \"KaiTi\"\n    \"Letter Gothic\"\n    \"Liberation Mono\"\n    \"Lucida Console\"\n    \"Lucida Sans Typewriter\"\n    \"Lucida Typewriter\"\n    \"Menlo\"\n    \"MICR\"\n    \"Miriam Fixed\"\n    \"Monaco\"\n    \"Monofur\"\n    \"Monospace\"\n    \"MS Gothic\"\n    \"MS Mincho\"\n    \"Nimbus Mono L\"\n    \"OCR-A\"\n    \"OCR-B\"\n    \"Orator\"\n    \"Ormaxx\"\n    \"PragmataPro\"\n    \"Prestige Elite\"\n    \"ProFont\"\n    \"Proggy programming fonts\"\n    \"SimHei\"\n    \"SimSun\"\n    \"Small Fonts\"\n    \"Sydnie\"\n    \"Terminal\"\n    \"Tex Gyre Cursor\"\n    \"Trixie\"\n    \"Ubuntu Mono\"\n    \"UM Typewriter\"\n    \"Vera Sans Mono\"\n    \"William Monospace\"\n    \"Balloon\"\n    \"Brush Script\"\n    \"Choc\"\n    \"Dom Casual\"\n    \"Dragonwick\"\n    \"Mistral\"\n    \"Papyrus\"\n    \"Segoe Script\"\n    \"Tempus Sans\"\n    \"Amazone\"\n    \"American Scribe\"\n    \"AMS Euler\"\n    \"Apple Chancery\"\n    \"Aquiline\"\n    \"Aristocrat\"\n    \"Bickley Script\"\n    \"Civitype\"\n    \"Codex\"\n    \"Edwardian Script\"\n    \"Forte\"\n    \"French Script\"\n    \"ITC Zapf Chancery\"\n    \"Kuenstler Script\"\n    \"Monotype Corsiva\"\n    \"Old English Text MT\"\n    \"Palace Script\"\n    \"Park Avenue\"\n    \"Scriptina\"\n    \"Shelley Volante\"\n    \"Vivaldi\"\n    \"Vladimir Script\"\n    \"Zapfino\"\n    \"Andy\"\n    \"Ashley Script\"\n    \"Czanne\"\n    \"Chalkboard\"\n    \"Comic Sans MS\"\n    \"Fontoon\"\n    \"Irregularis\"\n    \"Jefferson\"\n    \"Kristen\"\n    \"Lucida Handwriting\"\n    \"Rage Italic\"\n    \"Rufscript\"\n    \"Scribble\"\n    \"Soupbone\"\n    \"Tekton\"\n    \"Alecko\"\n    \"Cinderella\"\n    \"Coronet\"\n    \"Cupola\"\n    \"Curlz\"\n    \"Magnificat\"\n    \"Script\"\n    \"American Text\"\n    \"Bastard\"\n    \"Breitkopf Fraktur\"\n    \"Cloister Black\"\n    \"Fette Fraktur\"\n    \"Fletcher\"\n    \"Fraktur\"\n    \"Goudy Text\"\n    \"Lucida Blackletter\"\n    \"Old English Text\"\n    \"Schwabacher\",\"Wedding Text\"\n    \"Aegyptus\"\n    \"Aharoni\"\n    \"Aisha\"\n    \"Amienne\"\n    \"Batak Script\"\n    \"Chandas\"\n    \"Grecs du roi\"\n    \"Hanacaraka\"\n    \"Japanese Gothic\"\n    \"Jomolhari\"\n    \"Kochi\"\n    \"Koren\"\n    \"Lontara Script\"\n    \"Maiola\"\n    \"Malgun Gothic\"\n    \"Microsoft JhengHei\"\n    \"Microsoft YaHei\"\n    \"Minch\"\n    \"Ming\"\n    \"Mona\"\n    \"Nassim\"\n    \"Nastaliq Navees\"\n    \"Neacademia\"\n    \"Perpetua Greek\"\n    \"Porson\"\n    \"Skolar\"\n    \"Skolar Devanagari\"\n    \"Sundanese Unicode\"\n    \"Sutturah\"\n    \"Tai Le Valentinium\"\n    \"Tengwar\"\n    \"Tibetan Machine Uni\"\n    \"Tunga\"\n    \"Wadalab\"\n    \"Wilson Greek\"\n    \"Alphabetum\"\n    \"Batang\"\n    \"Gungsuh\"\n    \"Bitstream Cyberbit\"\n    \"ClearlyU\"\n    \"Code2000\"\n    \"Code2001\"\n    \"Code2002\"\n    \"DejaVu fonts\"\n    \"Doulos SIL\"\n    \"Fallback font\"\n    \"Free UCS Outline Fonts\"\n    \"FreeFont\"\n    \"GNU Unifont\"\n    \"Georgia Ref\"\n    \"Gulim\"\n    \"New Gulim\"\n    \"Junicode\"\n    \"LastResort\"\n    \"Lucida Grande\"\n    \"Lucida Sans Unicode\"\n    \"Nimbus Sans Global\"\n    \"Squarish Sans CT v0.10\"\n    \"Symbola\"\n    \"Titus Cyberbit Basic\"\n    \"Verdana Ref\"\n    \"Y.OzFontN\"\n    \"Apple Symbols\"\n    \"Asana-Math\"\n    \"Blackboard bold\"\n    \"Bookshelf Symbol 7\"\n    \"Braille\"\n    \"Cambria Math\"\n    \"Commercial Pi\"\n    \"Corel\"\n    \"Erler Dingbats\"\n    \"HM Phonetic\"\n    \"Lucida Math\"\n    \"Marlett\"\n    \"Mathematical Pi\"\n    \"Morse Code\"\n    \"OpenSymbol\"\n    \"RichStyle\"\n    \"Symbol\"\n    \"SymbolPS\"\n    \"Webdings\"\n    \"Wingdings\"\n    \"Wingdings 2\"\n    \"Wingdings 3\"\n    \"Zapf Dingbats\"\n    \"Abracadabra\"\n    \"Ad Lib\"\n    \"Allegro\"\n    \"Andreas\"\n    \"Arnold Bcklin\"\n    \"Astur\"\n    \"Balloon Pop Outlaw Black\"\n    \"Banco\"\n    \"Beat\"\n    \"Braggadocio\"\n    \"Broadway\"\n    \"Ellington\"\n    \"Exablock\"\n    \"Exocet\",\"FIG Script\"\n    \"Gabriola\"\n    \"Gigi\"\n    \"Harlow Solid\"\n    \"Harrington\"\n    \"Horizon\"\n    \"Jim Crow\"\n    \"Jokerman\"\n    \"Juice\"\n    \"Lo-Type\"\n    \"Magneto\"\n    \"Megadeth\"\n    \"Neuland\"\n    \"Peignot\"\n    \"Ravie\"\n    \"San Francisco\"\n    \"Showcard Gothic\"\n    \"Snap\"\n    \"Stencil\"\n    \"Umbra\"\n    \"Westminster\"\n    \"Willow\"\n    \"Bagel\"\n    \"Lithos\"\n    \"Talmud\"\n    \"3x3\"\n    \"Compatil\"\n    \"Generis\"\n    \"Grasset\"\n    \"LED\"\n    \"Luxi\"\n    \"System\"\n]\n\n# Based on algorithm outlined in P. Eckersley, 2010\nmodule.exports = fingerprint = ->\n    window.navigator.userAgent +\n        window.navigator.cookieEnabled +\n        (value.name for key,value of window.navigator.plugins).join(\",\") +\n        window.screen.height +\n        window.screen.width +\n        window.screen.colorDepth +\n        (font for font in fontList when isFontAvailable(font)).join(\",\")\n","###\nDerived from:\n Javascript HashCode v1.0.0\n This function returns a hash code (MD5) based on the argument object.\n http://pmav.eu/stuff/javascript-hash-code\n\n Example:\n  var s = \"my String\";\n  alert(HashCode.value(s));\n\n pmav, 2010\n###\n\nserialize = (object) ->\n    serializedCode = \"\"\n\n    type = typeof object\n\n    if type == 'object'\n\n        for element of object\n            serializedCode += \"[\" + type + \":\" +\n                element + serialize(object[element]) + \"]\"\n\n\n    else if type == 'function'\n        serializedCode += \"[\" + type + \":\" + object.toString() + \"]\"\n    else\n        serializedCode += \"[\" + type + \":\" + object + \"]\"\n\n    return serializedCode.replace(/\\s/g, \"\")\n\nmodule.exports = (object) ->\n\n    md5(serialize(object))","keys = {\n    \"backspace\" : 8\n    \"tab\" : 9\n    \"enter\" : 13\n    \"shift\": 16\n    \"ctrl\": 17\n    \"alt\": 18\n    \"escape\" : 27\n    \"space\": 32\n    \"page_up\" : 33\n    \"page_down\" : 34\n    \"end\" : 35\n    \"home\" : 36\n    \"insert\" : 45\n    \"delete\" : 46\n    \"0\" : 48\n    \"1\" : 49\n    \"2\" : 50\n    \"3\" : 51\n    \"4\" : 52\n    \"5\" : 53\n    \"6\" : 54\n    \"7\" : 55\n    \"8\" : 56\n    \"9\" : 57\n    \"a\" : 65\n    \"b\" : 66\n    \"c\" : 67\n    \"d\" : 68\n    \"e\" : 69\n    \"f\" : 70\n    \"g\" : 71\n    \"h\" : 72\n    \"i\" : 73\n    \"j\" : 74\n    \"k\" : 75\n    \"l\" : 76\n    \"m\" : 77\n    \"n\" : 78\n    \"o\" : 79\n    \"p\" : 80\n    \"q\" : 81\n    \"r\" : 82\n    \"s\" : 83\n    \"t\" : 84\n    \"u\" : 85\n    \"v\" : 86\n    \"w\" : 87\n    \"x\" : 88\n    \"y\" : 89\n    \"z\" : 90\n    \"numpad0\" : 96\n    \"numpad1\" : 97\n    \"numpad2\" : 98\n    \"numpad3\" : 99\n    \"numpad4\" : 100\n    \"numpad5\" : 101\n    \"numpad6\" : 102\n    \"numpad7\" : 103\n    \"numpad8\" : 104\n    \"numpad9\" : 105\n    \"numpad*\" : 106\n    \"numpad+\" : 107\n    \"numpad-\" : 109\n    \"numpad.\" : 110\n    \"numpad/\" : 111\n    \"f1\" : 112\n    \"f2\" : 113\n    \"f3\" : 114\n    \"f4\" : 115\n    \"f5\" : 116\n    \"f6\" : 117\n    \"f7\" : 118\n    \"f8\" : 119\n    \"f9\" : 120\n    \"f10\" : 121\n    \"f11\" : 122\n    \"f12\" : 123\n    \"num_lock\" : 144\n    \"scroll_lock\" : 145\n    \";\" : 186\n    \"=\" : 187\n    \",\" : 188\n    \"-\" : 189\n    \".\" : 190\n    \"/\" : 191\n    \"[\" : 219\n    \"\\\\\" : 220\n    \"]\" : 221\n    \"'\" : 222\n}\n\ndelete_text = (text) ->\n    text.slice 0, -1\n\ndummy = (text) ->\n    text\n\nkeysToText = {\n    \"backspace\": delete_text\n    \"tab\" : \"\\t\"\n    \"enter\" : \"\\n\"\n    \"delete\" : delete_text\n    \"space\": \" \"\n    \"shift\": dummy\n    \"ctrl\": dummy\n    \"alt\": dummy\n    \"escape\" : dummy\n    \"page_up\" : dummy\n    \"page_down\" : dummy\n    \"end\" : dummy\n    \"home\" : dummy\n    \"insert\" : dummy\n    \"numpad0\" : dummy\n    \"numpad1\" : dummy\n    \"numpad2\" : dummy\n    \"numpad3\" : dummy\n    \"numpad4\" : dummy\n    \"numpad5\" : dummy\n    \"numpad6\" : dummy\n    \"numpad7\" : dummy\n    \"numpad8\" : dummy\n    \"numpad9\" : dummy\n    \"numpad*\" : dummy\n    \"numpad+\" : dummy\n    \"numpad-\" : dummy\n    \"numpad.\" : dummy\n    \"numpad/\" : dummy\n    \"f1\" : dummy\n    \"f2\" : dummy\n    \"f3\" : dummy\n    \"f4\" : dummy\n    \"f5\" : dummy\n    \"f6\" : dummy\n    \"f7\" : dummy\n    \"f8\" : dummy\n    \"f9\" : dummy\n    \"f10\" : dummy\n    \"f11\" : dummy\n    \"f12\" : dummy\n    \"num_lock\" : dummy\n    \"scroll_lock\" : dummy\n}\n\n\nmodule.exports =\n    Keys: keys\n    KeysToText: keysToText","module.exports = (folder, app) ->\n    window.require.list().filter (module) ->\n        return new RegExp('^' + folder + '/').test module\n    .forEach (module) ->\n        app[module.split(\"/\").slice(-1)[0]] = require module","module.exports = (folder) ->\n    modulesExported = []\n    window.require.list().filter (module) ->\n        return new RegExp('^' + folder + '/').test module\n    .forEach (module) ->\n        modulesExported.push module.split(\"/\").slice(-1)[0]\n    return modulesExported","module.exports = (folder, moduleSubKey) ->\n    subModules = {}\n    window.require.list().filter (module) ->\n        return new RegExp('^' + folder + '/').test module\n    .forEach (module) ->\n        subModules[module.split(\"/\").slice(-1)[0]] =\n            require(module)[moduleSubKey]\n        if not subModules[module.split(\"/\").slice(-1)[0]]\n            delete subModules[module.split(\"/\").slice(-1)[0]]\n    return subModules","seeded_shuffle = (source_array, seed) ->\n    random = new Math.seedrandom seed\n    array = source_array.slice 0\n    m = array.length\n\n    # While there remain elements to shuffle\n    while m\n\n        # Pick a remaining element\n        i = Math.floor(random() * m--)\n\n        # And swap it with the current element.\n        t = array[m]\n        array[m] = array[i]\n        array[i] = t\n\n    return array\n\nguid = (seed=null) ->\n    random = seed or Math.random\n    _p8 = (s) ->\n        p = (random().toString(16)+\"000000000\").substr(2,8)\n        return if s then \"-\" + p.substr(0,4) + \"-\" + p.substr(4,4) else p\n    return _p8() + _p8(true) + _p8(true) + _p8()\n\nseededguid = ->\n    guid(PsychoCoffee.random.GUIDseed)\n\nGUIDseed = null\n\nseedGUID = (seed) ->\n    PsychoCoffee.random.GUIDseed = new Math.seedrandom seed\n\nmodule.exports =\n    seeded_shuffle: seeded_shuffle\n    guid: guid\n    seededguid: seededguid\n    seedGUID: seedGUID\n    GUIDseed: GUIDseed","module.exports = stringHash = (string) ->\n    hash = 5381\n    if string.length == 0 then return hash\n    for i in [0...string.length]\n        chr   = string.charCodeAt(i)\n        hash  = ((hash << 5) + hash) + chr\n        hash |= 0\n    return hash.toString(16)\n","decodeGetParams = (url) ->\n    url = decodeURIComponent(url).split(\"?\")[1]\n    params = {}\n    if url\n        for item in url.split(\"&\")\n            data = item.split(\"=\")\n            if data[1]\n                params[data[0]] = data[1]\n    return params\n\nmodule.exports =\n    decodeGetParams: decodeGetParams","module.exports = (t, canvas, maxW, maxH, justify) ->\n    maxH = maxH ? 0\n    words = t.text.split(\" \")\n    formatted = ''\n    \n    # This works only with monospace fonts\n    justify = justify || 'left'\n    \n    # clear newlines\n    sansBreaks = t.text.replace(/(\\r\\n|\\n|\\r)/gm, \"\")\n    # calc line height\n    lineHeight = new fabric.Text(sansBreaks,\n        fontFamily: t.fontFamily\n        fontSize: t.fontSize\n    ).height\n    \n    # adjust for vertical offset\n    maxHAdjusted = if maxH > 0 then maxH - lineHeight else 0\n    context = canvas.getContext(\"2d\")\n    \n    \n    context.font = t.fontSize + \"px \" + t.fontFamily\n    currentLine = ''\n    breakLineCount = 0\n    \n    n = 0\n    while n < words.length\n        isNewLine = currentLine == \"\"\n        testOverlap = currentLine + ' ' + words[n]\n        \n        # are we over width?\n        w = context.measureText(testOverlap).width\n        \n        # if not, keep adding words\n        if w < maxW\n            if currentLine != ''\n                currentLine += ' '\n            currentLine += words[n]\n        else\n            \n            # if this hits, we got a word that need to be hypenated\n            if isNewLine\n                wordOverlap = \"\"\n                \n                # test word length until its over maxW\n                for i in [0...words[n].length]\n                    wordOverlap += words[n].charAt(i)\n                    withHypeh = wordOverlap + \"-\"\n                    \n                    if context.measureText(withHypeh).width >= maxW\n                        # add hyphen when splitting a word\n                        withHypeh =\n                            wordOverlap.substr(0,\n                                wordOverlap.length - 2) + \"-\"\n                        # update current word with remainder\n                        words[n] =\n                            words[n].substr(wordOverlap.length\n                                - 1, words[n].length)\n                        # add hypenated word\n                        formatted += withHypeh\n                        break\n\n            while justify == 'right' and context.measureText(\n                ' ' + currentLine).width < maxW\n                currentLine = ' ' + currentLine\n            \n            while justify == 'center' and context.measureText(\n                ' ' + currentLine + ' ').width < maxW\n                currentLine = ' ' + currentLine + ' '\n            \n            formatted += currentLine + '\\n'\n            breakLineCount++\n            currentLine = \"\"\n            \n            # restart cycle\n            continue\n\n        if maxHAdjusted > 0 and (breakLineCount * lineHeight) > maxHAdjusted\n            # add ... at the end indicating text was cutoff\n            formatted = formatted.substr(0, formatted.length - 3) + \"...\\n\"\n            currentLine = \"\"\n            break\n        n++\n    \n    if currentLine != ''\n        while justify == 'right' and context.measureText(\n            ' ' + currentLine).width < maxW\n            currentLine = ' ' + currentLine\n        \n        while justify == 'center' and context.measureText(\n            ' ' + currentLine + ' ').width < maxW\n            currentLine = ' ' + currentLine + ' '\n        \n        formatted += currentLine + '\\n'\n        breakLineCount++\n        currentLine = \"\"\n    \n    # get rid of empy newline at the end\n    formatted = formatted.substr(0, formatted.length - 1)\n\n    ret = t.setText(formatted)\n\n    return ret","'use strict'\n\nHandlerView = require './HandlerView'\n\nmodule.exports = class BlockView extends HandlerView\n\n    initialize: (options) =>\n        super\n        @generateTrialModels()\n        @instantiateSubViews(\"trials\",\n            \"TrialView\", null)\n\n    generateTrialModels: ->\n        [@parameters, @trialListLength, @parameterSet] =\n            @model.returnParameters(@user_id, @injectedParameters)\n        for parameters in @parameterSet\n            trial =\n                @model.get(\"trials\").create @model.returnTrialProperties(\n                    parameters)\n            trial.set \"parameters\", parameters\n            trial.get(\"trialObjects\").add(\n                (model.parameterizedTrial(parameters) \\\n                for model in @model.get(\"trialObjects\").models)\n                )\n\n    preLoadBlock: (queue) =>\n        for key, view of @subViews\n            view.preLoadTrial(queue)\n\n    startBlock: ->\n        date_time = new Date().getTime()\n        if @datamodel.get(\"start_time\")?\n            @logEvent \"block_resume\", date_time: date_time\n        else\n            @datamodel.set \"start_time\", date_time\n            @logEvent \"block_start\", date_time: date_time\n        @datamodel.set \"block_id\", @model.id\n        @datamodel.set \"parameters\", @parameters\n        @datamodel.set(\"trial\", @datamodel.get(\"trial\") or 0)\n        currentTrial = @model.get(\"trials\").at(@datamodel.get(\"trial\"))\n        @showTrial currentTrial\n\n    showTrial: (trial) =>\n        if not trial\n            @endBlock()\n            return\n        trialView = @subViews[trial.get(\"id\")]\n        if @trialView\n            if @trialView.close then @trialView.close() else @trialView.remove()\n        @trialdatamodel =\n            @datamodel.get(\"trialdatalogs\").at(@datamodel.get(\"trial\")) or\n            @datamodel.get(\"trialdatalogs\").create()\n        @datamodel.save()\n        @trialView = trialView\n        @trialView.datamodel = @trialdatamodel\n        @trialView.render()\n        @trialView.appendTo(\"#trials\")\n        @listenToOnce @trialView, \"trialEnded\", @nextTrial\n        @trialView.startTrial()\n\n    nextTrial: ->\n        @datamodel.set(\"trial\", @datamodel.get(\"trial\") + 1)\n        currentTrial = @model.get(\"trials\").at(@datamodel.get(\"trial\"))\n        @showTrial currentTrial\n\n    endBlock: ->\n        date_time = new Date().getTime()\n        @logEvent \"block_end\", date_time: date_time\n        @datamodel.set \"end_time\", date_time\n        @datamodel.set \"complete\", true\n        for key, view of @subViews\n            view.remove()\n        @stopListening()\n        @remove()\n        @trigger \"blockEnded\"","'use strict'\n\nclock = require(\"utils/clock\")\nHandlerView = require './HandlerView'\nExperiment = require '../models/Experiment'\nExperimentDataHandler = require '../models/ExperimentDataHandler'\nTemplate = require 'templates/experiment'\nProgressBarView = require './ProgressBarView'\nstringHash = require 'utils/stringHash'\nfingerprint = require 'utils/fingerprint'\nurlParse = require 'utils/urlParse'\n\nmodule.exports = class ExperimentView extends HandlerView\n    template: Template\n\n    initialize: =>\n        super\n        @urlParams = urlParse.decodeGetParams(window.location.href)\n        # This sets the User ID depending on the way that the experiment\n        # is being run, also collects other relevant information for\n        # different subject pool conditions.\n        switch @model?.get(\"subjectPool\")\n            when \"AMT\"\n                @user_id = @urlParams.workerId\n                @assignment_id = @urlParams.assignmentId\n                @turkSubmitTo = @urlParams.turkSubmitTo\n                @hitId = @urlParams.hitId\n            else\n                @user_id = stringHash(fingerprint())\n        @clock = new clock.Clock()\n        @refreshTime()\n        @render()\n        @appendTo(\"#app\")\n        @datacollection = new ExperimentDataHandler.Collection\n            experiment_identifier: @model?.get(\"identifier\")\n            participant_id: @user_id\n        @datacollection.filterFetch().then =>\n            @datamodel = @datacollection.getOrCreateParticipantModel(@user_id,\n                @model)\n            @datamodel.set(\"parameters\", @datamodel.get(\"parameters\") or\n                @model.returnParameters(@user_id))\n            if @model.get(\"subjectPool\") == \"AMT\"\n                @datamodel.set\n                    assignment_id: @assignment_id\n                    turkSubmitTo: @turkSubmitTo\n                    hitId: @hitId\n            @instantiateSubViews(\n                \"blocks\"\n                \"BlockView\"\n                null\n                parameters: @datamodel.get(\"parameters\"))\n            @preLoadExperiment()\n\n    refreshTime: =>\n        @time = @clock.getTime()\n\n    preLoadExperiment: ->\n        queue = new createjs.LoadQueue true\n        for key, view of @subViews\n            view.preLoadBlock(queue)\n        @progressBarView = new ProgressBarView\n            queue: queue\n            complete: @startExperiment\n        @progressBarView.appendTo(\"#messages\")\n        @progressBarView.render()\n        \n    startExperiment: =>\n        date_time = new Date().getTime()\n        if @datamodel.get(\"start_time\")?\n            @logEvent \"experiment_resume\", date_time: date_time\n        else\n            @datamodel.set \"start_time\", date_time\n            @logEvent \"experiment_start\", date_time: date_time\n        @datamodel.set(\"block\", @datamodel.get(\"block\") or 0)\n        currentBlock = @model.get(\"blocks\").at(@datamodel.get(\"block\"))\n        @showBlock currentBlock\n\n    showBlock: (block) =>\n        if not block\n            @endExperiment()\n            return\n        blockView = @subViews[block.get(\"id\")]\n        if @blockView\n            if @blockView.close then @blockView.close() else @blockView.remove()\n        @blockdatamodel =\n            @datamodel.get(\"blockdatahandlers\").at(@datamodel.get(\"block\")) or\n            @datamodel.get(\"blockdatahandlers\").create()\n        @datamodel.save()\n        @blockView = blockView\n        @blockView.datamodel = @blockdatamodel\n        @blockView.render()\n        @listenToOnce @blockView, \"blockEnded\", @nextBlock\n        @blockView.startBlock()\n\n\n    nextBlock: ->\n        @datamodel.set(\"block\", @datamodel.get(\"block\") + 1)\n        currentBlock = @model.get(\"blocks\").at(@datamodel.get(\"block\"))\n        @showBlock currentBlock\n\n    endExperiment: =>\n        date_time = new Date().getTime()\n        @logEvent \"experiment_end\", date_time: date_time\n        @datamodel.set \"end_time\", date_time\n        @datamodel.set \"complete\", true\n        @datamodel.save null,\n            now: true\n            success: =>\n                console.log \"I'm done here!\"\n                @$(\"#messages\").html(\"<h1>Experiment Complete - Thank you</h1>\")","'use strict'\n\nView = require './View'\n\nmodule.exports = class HandlerView extends View\n\n    logEvent: (event_type, options={}) =>\n        @datamodel.logEvent(\n            event_type\n            @clock\n            _.extend options,\n                object: @model.name()\n                )","'use strict'\n\ntemplate = require '../templates/progressbar'\nView = require './View'\n\nmodule.exports = class ProgressBarView extends View\n    template: template\n\n    initialize: (options) =>\n        super\n        @queue = options.queue\n        @complete = options.complete\n        @queue.on \"progress\", @progress\n        @queue.on \"complete\", @finish\n\n    progress: (data) =>\n        @setProgressBar data.progress\n\n    finish: =>\n        @$el.animate(\n            opacity: 0,\n            1000,\n            \"swing\",\n            @close\n            )\n\n    render: ->\n        super\n        if @queue._numItems == 0\n            @setProgressBar 1\n            @finish()\n\n    close: =>\n        @complete()\n        @remove()\n\n    setProgressBar: (fraction) ->\n        progressBarWidth = fraction * @$el.find(\"#progressBar\").width()\n        @$el.find(\"#indicator\").animate(\n            width: progressBarWidth,\n            100).html(\n            Math.round(fraction * 100) + \"%&nbsp;\")","'use strict'\n\nView = require './View'\n\nmodule.exports = class TrialObjectView extends View\n\n    initialize: ->\n        super\n        if not @model.get \"file\" then @render()\n        @active = false\n        @name = @model.name()\n\n    attach: (endpoints) ->\n        return\n\n    preLoadTrialObject: (queue) =>\n        if @model.get(\"file\")\n            @object_id = @model.get(\"file\")\n            if not queue.getItem(@object_id)\n                queue.loadFile src: @object_id\n            queue.on \"fileload\", @postFileLoad\n\n    postFileLoad: (data) =>\n        if data.item.src == @model.get(\"file\")\n            @file_object = data.result\n            @render()\n\n    render: =>\n        console.debug \"Rendering #{@constructor.name}\"\n        @$el.html @file_object\n\n    logEvent: (event_type, options={}) =>\n        @datamodel.logEvent(\n            event_type\n            @clock\n            _.extend options,\n                object: @model.name()\n                details: @logDetails()\n                )\n\n    addToClockChangeEvents: (event) ->\n        @clock.changeEvents.push event\n\n    logDetails: ->\n        if PsychoCoffee.DEBUG\n            @model.attributes\n        else\n            @model.get(\"type\") or @model.get(\"subModelTypeAttribute\")\n\n    activate: ->\n        if not @active\n            @trigger \"activated\"\n            @logEvent(\"activated\")\n            @active = true\n            @listenTo @model, \"change\", @render\n            if @model.get(\"duration\")\n                @clock.delayedTrigger(\n                    @model.get(\"duration\"),\n                    @, @deactivate)\n\n    deactivate: ->\n        if @active\n            @trigger \"deactivated\"\n            @logEvent(\"deactivated\")\n            @active = false\n            @stopListening @model, \"change\", @render\n\n    registerEvents: (siblingViews) =>\n        if @model.get(\"startWithTrial\")\n            @clock.delayedTrigger @model.get(\"delay\"), @, @activate\n        for trigger in (@model.get(\"triggers\") or [])\n            view = _.find(siblingViews, (sibling) ->\n                sibling.name == trigger.objectName\n                )\n            if view?\n                @listenTo view, trigger.eventName, (options) =>\n                    console.log \"Triggering\", trigger.eventName\n                    @[trigger.callback](_.extend(options,\n                        trigger.arguments or {}))\n            else\n                console.debug \"\"\"\n                    There is no object with the name\n                    #{trigger.objectName} in this trial.\n                    \"\"\"","'use strict'\n\nTrialObjectView = require '../TrialObjectView'\n\nmodule.exports = class AudioTrialObjectView extends TrialObjectView\n\n    attach: (endpoints) ->\n        @appendTo endpoints.hidden\n\n    preLoadTrialObject: (queue) =>\n        queue.installPlugin createjs.Sound\n        super\n\n    activate: ->\n        @object.play()\n        super()\n\n    deactivate: ->\n        @object.stop()\n        super()\n\n    render: =>\n        if not @object\n            @object = createjs.Sound.createInstance @object_id\n    # @object.on \"succeeded\", => console.log @clock.timerElapsed(), \"playing\"\n    # @object.on \"complete\", => console.log @clock.timerElapsed(), \"stopping\"","'use strict'\n\nTrialObjectView = require '../TrialObjectView'\n\nmodule.exports = class GroupTrialObjectView extends TrialObjectView\n\n    initialize: (options) =>\n        super\n        @instantiateSubViews(\"trialObjects\",\n            \"TrialObjectView\", @trialObjectViewType)\n        @registerSubViewSubViews()\n\n    preLoadTrialObject: (queue) =>\n        for view in @subViewList\n            view.preLoadTrialObject(queue)\n\n    attach: (endpoints) ->\n        for view in @subViewList\n            view.attach(endpoints)\n\n    activate: ->\n        for view in @subViewList\n            view.activate()\n        super()\n\n    deactivate: ->\n        for view in @subViewList\n            view.deactivate()\n        super()\n\n    render: ->\n        return\n\n    # Repeats code from TrialView - not DRY at all!\n    trialObjectViewType: (model) ->\n        elementType = model.get(\"subModelTypeAttribute\") or\n            PsychoCoffee.trialObjectTypeKeys[model.get(\"type\")]\n\n        # For this to work, any models subclassed from TrialObject must be named\n        # ModelName, and the associated View must be named ModelNameView\n\n        elementView = elementType + \"View\"\n\n        try\n            PsychoCoffee[elementView]\n            elementView\n        catch error\n            console.debug error, \"Unknown element type #{elementType}\"","'use strict'\n\nTextInputHTMLTrialObjectView = require '../TextInputHTMLTrialObjectView'\nTemplate = require \"/templates/TrialObjects/HTML/TextInput/textareainput\"\n\nmodule.exports =\n    class TextAreaInputHTMLTrialObjectView extends TextInputHTMLTrialObjectView\n\n        template: Template","'use strict'\n\nHTMLTrialObjectView = require '../HTMLTrialObjectView'\nTemplate = require \"/templates/TrialObjects/HTML/textinput\"\n\nmodule.exports = class TextInputHTMLTrialObjectView extends HTMLTrialObjectView\n\n    template: Template\n\n    deactivate: ->\n        super\n        @logInput()\n\n    logInput: ->\n        @logEvent \"text_input\", \"text_value\": @$(\".text-input\").val()","'use strict'\n\nTrialObjectView = require '../TrialObjectView'\n\nmodule.exports = class HTMLTrialObjectView extends TrialObjectView\n\n    className: \"trial-object\"\n\n    attach: (endpoints) ->\n        @$el.css \"visibility\", \"hidden\"\n        @appendTo endpoints.elements\n        @positionElement()\n\n    activate: ->\n        @$el.css \"visibility\", \"visible\"\n        super()\n\n    deactivate: ->\n        @$el.css \"visibility\", \"hidden\"\n        super()\n\n    positionElement: ->\n        switch @model.get(\"originX\")\n            when \"left\" then @$el.css \"left\", @model.get(\"x\")\n            when \"right\" then @$el.css \"right\", @model.get(\"x\")\n            when \"center\"\n                @$el.css \"left\", @model.get(\"x\") - @$el.width()/2\n\n        switch @model.get(\"originY\")\n            when \"top\" then @$el.css \"top\", @model.get(\"y\")\n            when \"bottom\" then @$el.css \"bottom\", @model.get(\"y\")\n            when \"center\"\n                @$el.css \"top\", @model.get(\"y\") - @$el.height()/2\n\n\n    render: ->\n        @$el.html @template @model.allParameters()\n        @positionElement()","'use strict'\n\nTrialObjectView = require '../TrialObjectView'\nKeys = require \"utils/keys\"\n\nmodule.exports = class KeyboardTrialObjectView extends TrialObjectView\n\n    initialize: =>\n        super\n        @keyCodeCache = _.invert(_.pick(Keys.Keys, @model.get(\"keys\")))\n\n    attach: (endpoints) ->\n        @object = $(window)\n\n    activate: =>\n        @object.keydown @keyPressed\n        super()\n\n    deactivate: ->\n        @object.unbind \"keydown\", @keyPressed\n        super()\n\n    keyPressed: (event) =>\n        if _.has(@keyCodeCache, event.keyCode)\n            key = @keyCodeCache[event.keyCode]\n            @trigger \"keypress\", key: key, shiftKey: event.shiftKey\n            @logEvent \"keypress\", key: key\n\n    render: ->\n        return\n","'use strict'\n\nVisualTrialObjectView = require '../VisualTrialObjectView'\n\nmodule.exports = class CircleVisualTrialObjectView extends VisualTrialObjectView\n\n    object_type:\n        fabric.Circle","'use strict'\n\nVisualTrialObjectView = require '../VisualTrialObjectView'\n\nmodule.exports =\n    class EllipseVisualTrialObjectView extends VisualTrialObjectView\n\n        object_type:\n            fabric.Ellipse","'use strict'\n\nVisualTrialObjectView = require '../VisualTrialObjectView'\n\nmodule.exports = class ImageVisualTrialObjectView extends VisualTrialObjectView\n\n    render: ->\n        if not @object\n            @object = new fabric.Image @file_object, @model.returnOptions()\n        super","'use strict'\n\nVisualTrialObjectView = require '../VisualTrialObjectView'\n\nmodule.exports =\n    class PolygonVisualTrialObjectView extends VisualTrialObjectView\n\n        object_type:\n            fabric.Polygon\n\n        render: ->\n            if not @object\n                @object = new @object_type @model.returnRequired()[0],\n                    @model.returnOptions()\n            super","'use strict'\n\nVisualTrialObjectView = require '../VisualTrialObjectView'\n\nmodule.exports =\n    class RectangleVisualTrialObjectView extends VisualTrialObjectView\n\n        object_type:\n            fabric.Rect","'use strict'\n\nTextVisualTrialObjectView = require '../TextVisualTrialObjectView'\nwrapCanvasText = require 'utils/wrapCanvasText'\n\nmodule.exports =\n    class MultiLineTextVisualTrialObjectView extends TextVisualTrialObjectView\n\n        render: ->\n            super\n            if @canvas\n                @object = wrapCanvasText(\n                    @object\n                    @canvas\n                    @model.get(\"width\")\n                    @model.get(\"height\")\n                    @model.get(\"justify\")\n                    )","'use strict'\n\nVisualTrialObjectView = require '../VisualTrialObjectView'\nKeys = require \"utils/keys\"\n\nmodule.exports = class TextVisualTrialObjectView extends VisualTrialObjectView\n\n    object_type:\n        fabric.Text\n\n    render: ->\n        if not @object\n            @object = new @object_type @model.returnRequired()[0],\n                @model.returnOptions()\n        super\n\n    addText: (options) ->\n        if \"text\" of options\n            text = options.text\n        else if \"key\" of options\n            text = Keys.KeysToText[options.key] or options.key\n            if typeof text == \"string\" and options.shiftKey\n                text = text.toUpperCase()\n        if text instanceof Function\n            @model.set(\"text\", text(@model.get(\"text\")))\n        else\n            @model.set(\"text\", @model.get(\"text\") + text)","'use strict'\n\nVisualTrialObjectView = require '../VisualTrialObjectView'\n\nmodule.exports =\n    class TriangleVisualTrialObjectView extends VisualTrialObjectView\n\n        object_type:\n            fabric.Triangle","'use strict'\n\nTrialObjectView = require '../TrialObjectView'\n\nmodule.exports = class VisualTrialObjectView extends TrialObjectView\n\n    attach: (endpoints) ->\n        @canvas = endpoints.canvas\n        @object.setVisible false\n        @canvas.add @object\n        @render()\n\n    activate: ->\n        @object.hasControls = false\n        @object.hasBorders = false\n        @object.lockMovementX = @object.lockMovementY = true\n        @object.setVisible true\n        @addToClockChangeEvents(\"activated\")\n        @object.on \"mousedown\", (event) =>\n            @trigger \"click\"\n            @logEvent \"click\"\n        super()\n\n    deactivate: ->\n        @object.setVisible false\n        @addToClockChangeEvents(\"deactivated\")\n        @object.off \"mousedown\"\n        super()\n\n    render: ->\n        if not @object\n            @object = new @object_type()\n        @object.set @model.allParameters()\n        @addToClockChangeEvents(\"change\")","'use strict'\n\nHandlerView = require './HandlerView'\nTemplate = require 'templates/trial'\n\nmodule.exports = class TrialView extends HandlerView\n    template: Template\n\n    initialize: (options) =>\n        super\n        @instantiateSubViews(\"trialObjects\",\n            \"TrialObjectView\", @trialObjectViewType)\n        @registerSubViewSubViews()\n\n    preLoadTrial: (queue) =>\n        for key, view of @subViews\n            view.preLoadTrialObject(queue)\n\n    trialObjectViewType: (model) ->\n        elementType = model.get(\"subModelTypeAttribute\") or\n            PsychoCoffee.trialObjectTypeKeys[model.get(\"type\")]\n\n        # For this to work, any models subclassed from TrialObject must be named\n        # ModelName, and the associated View must be named ModelNameView\n\n        elementView = elementType + \"View\"\n\n        try\n            PsychoCoffee[elementView]\n            elementView\n        catch error\n            console.debug error, \"Unknown element type #{elementType}\"\n\n    startTrial: ->\n        date_time = new Date().getTime()\n        if @datamodel.get(\"start_time\")?\n            @logEvent \"trial_resume\", date_time: date_time\n        else\n            @datamodel.set \"start_time\", date_time\n            @logEvent \"trial_start\", date_time: date_time\n        @datamodel.set \"trial_id\", @model.id\n        @datamodel.set \"parameters\", @model.get(\"parameters\")\n        @createCanvas()\n        endpoints =\n            canvas: @canvas\n            hidden: @$(\"#trial-hidden\")\n            elements: @$(\"#trial-elements\")\n        for view in @subViewList\n            view.attach endpoints\n            view.datamodel = @datamodel\n            view.registerEvents(@subViewList)\n        @registerEvents()\n        @registerTimeout()\n        @clock.startTimer()\n\n    createCanvas: =>\n        @canvas = new fabric.Canvas \"trial-canvas\"\n        @canvas.selection = false\n        @canvas.hoverCursor = 'default'\n        @clock.canvas = @canvas\n        if not Modernizr.pointerevents\n            for eventType in [\n                \"mousedown\"\n                \"mouseup\"\n             ]\n                @$(\"#trial-elements\")[eventType]((event) =>\n                    target = @canvas.findTarget event\n                    target.trigger(eventType)\n                    )\n\n    canvasPerformanceTracking: (options) =>\n        now = options.event_time\n        @canvas.on \"after:render\", =>\n            console.log @clock.timerElapsed() - now,\n                \"ms between object added/removed and render completion\"\n            @canvas.off(\"after:render\")\n\n    registerTimeout: =>\n        if @model.get \"timeout\"\n            @clock.delayedTrigger @model.get(\"timeout\"), @, @endTrial\n\n    endTrial: ->\n        date_time = new Date().getTime()\n        @logEvent \"trial_end\", date_time: date_time\n        @datamodel.set \"end_time\", date_time\n        for key, view of @subViews\n            view.remove()\n        @clock.stopTimer()\n        delete @clock.canvas\n        delete @canvas\n        @remove()\n        @trigger \"trialEnded\"\n\n    registerEvents: =>\n        for trigger in (@model.get(\"triggers\") or [])\n            view = _.find(@subViews, (subView) ->\n                subView.name == trigger.objectName\n                )\n            if view?\n                @listenTo view, trigger.eventName, =>\n                    @[trigger.callback](trigger.arguments or {})\n            else\n                console.debug \"\"\"\n                    There is no object with the name\n                    #{trigger.objectName} in this trial.\n                    \"\"\"","# require 'lib/view_helper'\n\n# Base class for all views.\nmodule.exports = class View extends Backbone.View\n    initialize: (options) =>\n        super\n        @clock = options?.clock\n        @user_id = options?.user_id\n        @injectedParameters = options?.parameters\n\n    template: ->\n        return\n\n    getRenderData: ->\n        return @model?.attributes or {}\n\n    render: =>\n        console.debug \"Rendering #{@constructor.name}\"\n        @$el.html @template @getRenderData()\n        @afterRender()\n        return @\n\n    appendTo: (el) =>\n        $(el).append(@el)\n\n    instantiateSubViews: (key, viewType, viewFunction, options={}) =>\n        @subViews = {}\n        for model in @model?.get(key).models or []\n            if viewFunction? then viewType = viewFunction(model)\n            options = _.extend(\n                options\n                model: model\n                clock: @clock\n                user_id: @user_id)\n            @subViews[model.id] = new PsychoCoffee[viewType] options\n        @subViewList = _.values(@subViews)\n\n    registerSubViewSubViews: ->\n        for subView in @subViewList\n            for key, value of subView.subViews\n                @subViews[key] = value\n        @subViewList = _.values(@subViews)\n\n    afterRender: ->\n        return","'use strict';\n\nmodule.exports = 'development';\n"]}